```markdown
# Лабораторная работа: Просмотр таблицы MAC-адресов коммутатора

## Топология

## Таблица адресации

| Устройство | Интерфейс | IP-адрес    | Маска подсети   |
|------------|-----------|-------------|-----------------|
| S1         | VLAN 1    | 192.168.1.11| 255.255.255.0   |
| S2         | VLAN 1    | 192.168.1.12| 255.255.255.0   |
| PC-A       | NIC       | 192.168.1.1 | 255.255.255.0   |
| PC-B       | NIC       | 192.168.1.2 | 255.255.255.0   |

## Цели
1. **Часть 1**: Создание и настройка сети.
2. **Часть 2**: Изучение таблицы MAC-адресов коммутатора.

## Общие сведения/сценарий

Коммутатор уровня 2 в локальной сети предназначен для доставки кадров Ethernet. Он создает таблицу MAC-адресов для сопоставления узловых устройств с портами коммутатора. Понимание работы коммутаторов необходимо для обеспечения безопасности и стабильности сети.

## Необходимые ресурсы
- 2 коммутатора (например, Cisco 2960 с Cisco IOS 15.2(2))
- 2 ПК (с Windows и терминальной программой, такой как Tera Term)
- Консольные кабели для настройки
- Ethernet-кабели

## Инструкции

### Часть 1. Создание и настройка сети

1. **Подключите сеть согласно топологии**.
2. **Настройте узлы ПК**.
3. **Инициализируйте и перезагрузите коммутаторы**:
   - S1:
   - S2:

4. **Настройте базовые параметры каждого коммутатора**:
   - Присвойте имена устройствам согласно топологии:
     - S1:
     - S2:
   - Настройте IP-адреса как указано в таблице адресации.
   - Назначьте `cisco` в качестве паролей консоли и VTY:
     - S1:
     - S2:
   - Назначьте `class` как пароль доступа к привилегированному режиму EXEC:
     - S1:
     - S2:

### Часть 2. Изучение таблицы MAC-адресов коммутатора

1. **Получите MAC-адреса сетевых устройств**:
   - Откройте командную строку на PC-A и PC-B и введите команду `ipconfig /all`.
     - MAC-адрес PC-A: `0030.F2D6.1EB6`
     - MAC-адрес PC-B: `0090.21C2.8B38`

2. **Посмотрите MAC-адреса коммутаторов**:
   - Подключитесь к коммутаторам S1 и S2 и введите команду `show interface F0/1`.
     - MAC-адрес S1 (Fast Ethernet 0/1): `0060.2f0a.6b01`
     - MAC-адрес S2 (Fast Ethernet 0/1): `0001.c955.4501`

3. **Просмотрите таблицу MAC-адресов**:
   - Подключитесь к коммутатору S2 и введите команду `show mac address-table`.
     - Записаны ли MAC-адреса? Ответ: да.
     - Какие MAC-адреса и порты указаны? (Игнорируйте MAC-адреса процессора).

4. **Очистите таблицу MAC-адресов**:
   - Введите команду `clear mac address-table dynamic` и снова просмотрите таблицу.

5. **Отправьте эхо-запросы**:
   - С PC-B отправьте эхо-запросы на устройства и посмотрите, добавились ли новые MAC-адреса в таблицу коммутатора S2.
   - Используйте команду `arp -a` на PC-B для проверки ARP-кэша.

### Вопросы для повторения

В сетях Ethernet данные передаются на устройства по соответствующим МАС-адресам. Для этого коммутаторы и компьютеры динамически создают ARP-кэш и таблицы МАС-адресов. Если компьютеров в сети немного эта процедура выглядит достаточно простой. Какие сложности могут возникнуть в крупных сетях?  
В крупных Ethernet-сетях при динамическом создании ARP-кэша и таблиц MAC-адресов могут возникнуть следующие сложности:
- Перегрузка таблицы MAC-адресов
- Коммутаторы имеют ограниченные размеры CAM-таблиц. В больших сетях таблица может переполниться, что приведет к флуду (рассылке пакетов на все порты) и снижению производительности.
- Проблемы с ARP
- ARP-запросы, которые рассылаются по всей сети, могут вызвать рост широковещательного трафика, перегружая устройства и снижая пропускную способность.
- Широковещательный трафик
- Увеличение ARP-запросов в больших сетях может привести к широковещательным штормам, что снижает общую производительность сети.
- Задержки обновления таблиц
- Частые обновления таблиц MAC-адресов и ARP-кэша могут вызывать задержки, особенно при изменении активности устройств.
- Рост нагрузки на процессор
- Обработка широковещательных сообщений увеличивает нагрузку на устройства, особенно если в сети много устройств.
- Угрозы безопасности (ARP-спуфинг)
- ARP-спуфинг может использоваться злоумышленниками для атаки типа "Человек посередине", что угрожает безопасности данных.

Решения:
- Разделение сети на VLAN для уменьшения широковещательного трафика.
- Включение Spanning Tree Protocol (STP) для предотвращения петель.
- Использование port security для защиты от MAC-флудинга.
- Применение статических ARP-записей для критически важных устройств.

Таким образом сложности в крупных сетях связаны с перегрузкой таблиц, широковещательным трафиком, задержками и угрозами безопасности, но их можно смягчить с помощью правильных технологий.
```
